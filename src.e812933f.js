parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Qd94":[function(require,module,exports) {
"use strict";var e,r,o;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(e=exports.Direction||(exports.Direction={})),function(e){e[e.Base=0]="Base",e[e.Mover=1]="Mover",e[e.Adder=2]="Adder",e[e.Subtractor=3]="Subtractor",e[e.MemoryAssigner=4]="MemoryAssigner",e[e.MemoryAdder=5]="MemoryAdder",e[e.MemorySubtractor=6]="MemorySubtractor",e[e.MemorySplitter=7]="MemorySplitter",e[e.Returner=8]="Returner"}(r=exports.Conveyors||(exports.Conveyors={})),function(e){e[e.A=0]="A",e[e.B=1]="B",e[e.C=2]="C"}(o=exports.MemoryType||(exports.MemoryType={}));
},{}],"ugIp":[function(require,module,exports) {
module.exports="base.1f5bb3ec.png";
},{}],"qe1Z":[function(require,module,exports) {
module.exports="down_mover.63a3a8b0.png";
},{}],"iZ0x":[function(require,module,exports) {
module.exports="left_mover.c1a880ef.png";
},{}],"xKsc":[function(require,module,exports) {
module.exports="right_mover.8118e182.png";
},{}],"w72g":[function(require,module,exports) {
module.exports="up_mover.aaecf010.png";
},{}],"BMKk":[function(require,module,exports) {
module.exports={down:require("./down_mover.png"),left:require("./left_mover.png"),right:require("./right_mover.png"),up:require("./up_mover.png")};
},{"./down_mover.png":"qe1Z","./left_mover.png":"iZ0x","./right_mover.png":"xKsc","./up_mover.png":"w72g"}],"zuYV":[function(require,module,exports) {
module.exports="down_adder.da87cc1c.png";
},{}],"JYZi":[function(require,module,exports) {
module.exports="left_adder.5cb2e559.png";
},{}],"AOZl":[function(require,module,exports) {
module.exports="right_adder.a9f6d3d2.png";
},{}],"q1GP":[function(require,module,exports) {
module.exports="up_adder.b81c2717.png";
},{}],"UwzB":[function(require,module,exports) {
module.exports={down:require("./down_adder.png"),left:require("./left_adder.png"),right:require("./right_adder.png"),up:require("./up_adder.png")};
},{"./down_adder.png":"zuYV","./left_adder.png":"JYZi","./right_adder.png":"AOZl","./up_adder.png":"q1GP"}],"I5YL":[function(require,module,exports) {
module.exports="down_subtractor.7b405195.png";
},{}],"VCi9":[function(require,module,exports) {
module.exports="left_subtractor.22e6a8de.png";
},{}],"DIFs":[function(require,module,exports) {
module.exports="right_subtractor.b5e2daa9.png";
},{}],"bemA":[function(require,module,exports) {
module.exports="up_subtractor.e96d10dd.png";
},{}],"DCz6":[function(require,module,exports) {
module.exports={down:require("./down_subtractor.png"),left:require("./left_subtractor.png"),right:require("./right_subtractor.png"),up:require("./up_subtractor.png")};
},{"./down_subtractor.png":"I5YL","./left_subtractor.png":"VCi9","./right_subtractor.png":"DIFs","./up_subtractor.png":"bemA"}],"sJS8":[function(require,module,exports) {
module.exports="down_memory.6440a8fb.png";
},{}],"EsA0":[function(require,module,exports) {
module.exports="left_memory.95d018c8.png";
},{}],"u8Ku":[function(require,module,exports) {
module.exports="right_memory.9c123a69.png";
},{}],"dprY":[function(require,module,exports) {
module.exports="up_memory.cc6b6127.png";
},{}],"bOrH":[function(require,module,exports) {
module.exports={down:require("./down_memory.png"),left:require("./left_memory.png"),right:require("./right_memory.png"),up:require("./up_memory.png")};
},{"./down_memory.png":"sJS8","./left_memory.png":"EsA0","./right_memory.png":"u8Ku","./up_memory.png":"dprY"}],"qc3s":[function(require,module,exports) {
module.exports="down_memory_plus.ea1936c8.png";
},{}],"QJ0S":[function(require,module,exports) {
module.exports="left_memory_plus.a3708abb.png";
},{}],"RIsq":[function(require,module,exports) {
module.exports="right_memory_plus.aaaa7208.png";
},{}],"HuUN":[function(require,module,exports) {
module.exports="up_memory_plus.543809e5.png";
},{}],"CJE3":[function(require,module,exports) {
module.exports={down:require("./down_memory_plus.png"),left:require("./left_memory_plus.png"),right:require("./right_memory_plus.png"),up:require("./up_memory_plus.png")};
},{"./down_memory_plus.png":"qc3s","./left_memory_plus.png":"QJ0S","./right_memory_plus.png":"RIsq","./up_memory_plus.png":"HuUN"}],"Qcfh":[function(require,module,exports) {
module.exports="down_memory_minus.71bef81b.png";
},{}],"jK7t":[function(require,module,exports) {
module.exports="left_memory_minus.439b79e5.png";
},{}],"foNl":[function(require,module,exports) {
module.exports="right_memory_minus.aafe6b27.png";
},{}],"w9fx":[function(require,module,exports) {
module.exports="up_memory_minus.a1d3c8be.png";
},{}],"kFdr":[function(require,module,exports) {
module.exports={down:require("./down_memory_minus.png"),left:require("./left_memory_minus.png"),right:require("./right_memory_minus.png"),up:require("./up_memory_minus.png")};
},{"./down_memory_minus.png":"Qcfh","./left_memory_minus.png":"jK7t","./right_memory_minus.png":"foNl","./up_memory_minus.png":"w9fx"}],"M7NQ":[function(require,module,exports) {
module.exports="down_memory_splitter.5256687c.png";
},{}],"pJIP":[function(require,module,exports) {
module.exports="left_memory_splitter.e4bb7434.png";
},{}],"Ou2x":[function(require,module,exports) {
module.exports="right_memory_splitter.fd2149b2.png";
},{}],"jz2n":[function(require,module,exports) {
module.exports="up_memory_splitter.44513d4e.png";
},{}],"ci8n":[function(require,module,exports) {
module.exports={down:require("./down_memory_splitter.png"),left:require("./left_memory_splitter.png"),right:require("./right_memory_splitter.png"),up:require("./up_memory_splitter.png")};
},{"./down_memory_splitter.png":"M7NQ","./left_memory_splitter.png":"pJIP","./right_memory_splitter.png":"Ou2x","./up_memory_splitter.png":"jz2n"}],"EvhF":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./images/base.png")),t=e(require("./images/*_mover.png")),a=e(require("./images/*_adder.png")),u=e(require("./images/*_subtractor.png")),o=e(require("./images/*_memory.png")),d=e(require("./images/*_memory_plus.png")),s=e(require("./images/*_memory_minus.png")),i=e(require("./images/*_memory_splitter.png")),n=require("./types"),l=function(e){var r=new Image;return r.src=e,r};exports.getImage=function(e,r){var t;switch(r){case n.Conveyors.Base:return f.base;case n.Conveyors.Mover:t=f.mover;break;case n.Conveyors.Adder:t=f.adder;break;case n.Conveyors.Subtractor:t=f.subtractor;break;case n.Conveyors.MemoryAssigner:t=f.memory;break;case n.Conveyors.MemoryAdder:t=f.memory_adder;break;case n.Conveyors.MemorySubtractor:t=f.memory_subtractor;break;case n.Conveyors.MemorySplitter:case n.Conveyors.Returner:t=f.memory_splitter}switch(e){case n.Direction.Up:return t.up;case n.Direction.Down:return t.down;case n.Direction.Left:return t.left;case n.Direction.Right:return t.right}};var f={base:l(r.default),mover:{up:l(t.default.up),down:l(t.default.down),left:l(t.default.left),right:l(t.default.right)},adder:{up:l(a.default.up),down:l(a.default.down),left:l(a.default.left),right:l(a.default.right)},subtractor:{up:l(u.default.up),down:l(u.default.down),left:l(u.default.left),right:l(u.default.right)},memory:{up:l(o.default.up),down:l(o.default.down),left:l(o.default.left),right:l(o.default.right)},memory_adder:{up:l(d.default.up),down:l(d.default.down),left:l(d.default.left),right:l(d.default.right)},memory_subtractor:{up:l(s.default.up),down:l(s.default.down),left:l(s.default.left),right:l(s.default.right)},memory_splitter:{up:l(i.default.up),down:l(i.default.down),left:l(i.default.left),right:l(i.default.right)}};
},{"./images/base.png":"ugIp","./images/*_mover.png":"BMKk","./images/*_adder.png":"UwzB","./images/*_subtractor.png":"DCz6","./images/*_memory.png":"bOrH","./images/*_memory_plus.png":"CJE3","./images/*_memory_minus.png":"kFdr","./images/*_memory_splitter.png":"ci8n","./types":"Qd94"}],"f31C":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(r,t)};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../types"),t=require("../image-loader");function o(e,t,o,v){switch(e){case r.Conveyors.Base:return new n(t);case r.Conveyors.Mover:return new i(t);case r.Conveyors.Adder:return new c(t);case r.Conveyors.Subtractor:return new y(t);case r.Conveyors.MemoryAssigner:return new s(t,o,v);case r.Conveyors.MemoryAdder:return new u(t,o,v);case r.Conveyors.MemorySubtractor:return new p(t,o,v);case r.Conveyors.MemorySplitter:return new m(t,o,v);case r.Conveyors.Returner:return new a(t);default:return new n(t)}}exports.ConveyorFactory=o;var n=function(){function e(e){this.type=r.Conveyors.Base,this.direction=e}return e.prototype.update=function(e){},e.prototype.draw=function(e,r,o,n,a,i){var c=t.getImage(this.direction,this.type);e.drawImage(c,r/n*a,o/n*i,r/n,o/n)},e}();exports.Base=n;var a=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Conveyors.Returner,e}return e(o,t),o.prototype.update=function(e){e.returned=!0},o}(n);exports.Returner=a;var i=function(t){function o(e){var o=t.call(this,e)||this;return o.type=r.Conveyors.Mover,o}return e(o,t),o.prototype.update=function(e){switch(this.direction){case r.Direction.Right:e.x++;break;case r.Direction.Down:e.y++;break;case r.Direction.Left:e.x--;break;case r.Direction.Up:e.y--}},o}(n);exports.Mover=i;var c=function(t){function o(e){var o=t.call(this,e)||this;return o.type=r.Conveyors.Adder,o}return e(o,t),o.prototype.update=function(e){t.prototype.update.call(this,e),e.value++},o}(i);exports.Adder=c;var y=function(t){function o(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=r.Conveyors.Subtractor,e.update=function(r){t.prototype.update.call(e,r),r.value--},e}return e(o,t),o}(i);exports.Subtractor=y;var s=function(t){function o(e,o,n){var a=t.call(this,e)||this;return a.type=r.Conveyors.MemoryAssigner,a.update=function(e){switch(t.prototype.update.call(a,e),a.memory_type){case r.MemoryType.A:a.memory.A=e.value;break;case r.MemoryType.B:a.memory.B=e.value;break;case r.MemoryType.C:a.memory.C=e.value}},a.memory_type=o,a.memory=n,a}return e(o,t),o}(i);exports.MemoryAssigner=s;var u=function(t){function o(e,o,n){var a=t.call(this,e)||this;return a.type=r.Conveyors.MemoryAdder,a.update=function(e){switch(t.prototype.update.call(a,e),a.memory_type){case r.MemoryType.A:a.memory.A++;break;case r.MemoryType.B:a.memory.B++;break;case r.MemoryType.C:a.memory.C++}},a.memory_type=o,a.memory=n,a}return e(o,t),o}(i);exports.MemoryAdder=u;var p=function(t){function o(e,o,n){var a=t.call(this,e)||this;return a.type=r.Conveyors.MemorySubtractor,a.update=function(e){switch(t.prototype.update.call(a,e),a.memory_type){case r.MemoryType.A:a.memory.A--;break;case r.MemoryType.B:a.memory.B--;break;case r.MemoryType.C:a.memory.C--}},a.memory_type=o,a.memory=n,a}return e(o,t),o}(i);exports.MemorySubtractor=p;var m=function(t){function o(e,o,n){var a=t.call(this,e)||this;return a.type=r.Conveyors.MemorySplitter,a.update=function(e){switch(a.memory_type){case r.MemoryType.A:v(e,a.direction,a.memory.A);break;case r.MemoryType.B:v(e,a.direction,a.memory.B);break;case r.MemoryType.C:v(e,a.direction,a.memory.C)}},a.memory_type=o,a.memory=n,a}return e(o,t),o}(i);function v(e,t,o){if(o>0)switch(t){case r.Direction.Right:e.y--;break;case r.Direction.Down:e.x++;break;case r.Direction.Left:e.y++;break;case r.Direction.Up:e.x--}else if(o<0)switch(t){case r.Direction.Right:e.y++;break;case r.Direction.Down:e.x--;break;case r.Direction.Left:e.y--;break;case r.Direction.Up:e.x++}else switch(t){case r.Direction.Right:e.x++;break;case r.Direction.Down:e.y++;break;case r.Direction.Left:e.x--;break;case r.Direction.Up:e.y--}}exports.MemorySplitter=m;
},{"../types":"Qd94","../image-loader":"EvhF"}],"PUau":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./types"),r=require("./objects/conveyors"),o=function(){return function(){var o=this;this.menu={selectedConveyor:e.Conveyors.Base,selectedMemory:e.MemoryType.A,selectedDirection:e.Direction.Down},this.level={size:3,initialInput:[0,0,0],input:[],expectedOutput:[1,1,1],actualOutput:[]},this.box={x:0,y:0,value:0,returned:!1},this.boxOperations={},this.board={memory:{A:0,B:0,C:0},resetMemory:function(){o.board.memory.A=0,o.board.memory.B=0,o.board.memory.C=0},grid:[],createGrid:function(t){var i=Array(t).fill(void 0).map(function(){return Array(t).fill(void 0)});o.board.grid=i.map(function(o){return o.map(function(){return r.ConveyorFactory(e.Conveyors.Base,e.Direction.Up,void 0,void 0)})})},resetGrid:function(){o.board.createGrid(o.level.size),o.board.grid[0][0]=r.ConveyorFactory(e.Conveyors.Mover,e.Direction.Down,void 0,void 0)},updateGrid:function(e,t){o.board.grid[e][t]=r.ConveyorFactory(o.menu.selectedConveyor,o.menu.selectedDirection,o.menu.selectedMemory,o.board.memory)}},this.levelIndex=0,this.isRunning=!1,this.board.resetGrid(),this.box=void 0}}();exports.StateClass=o;
},{"./types":"Qd94","./objects/conveyors":"f31C"}],"KzVE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../types");exports.stringToDirection=function(e){switch(e){case"up":return r.Direction.Up;case"down":return r.Direction.Down;case"left":return r.Direction.Left;case"right":return r.Direction.Right}},exports.stringToConveyor=function(e){switch(e){case"base":return r.Conveyors.Base;case"mover":return r.Conveyors.Mover;case"adder":return r.Conveyors.Adder;case"subtractor":return r.Conveyors.Subtractor;case"memory_assigner":return r.Conveyors.MemoryAssigner;case"memory_adder":return r.Conveyors.MemoryAdder;case"memory_subtractor":return r.Conveyors.MemorySubtractor;case"memory_splitter":return r.Conveyors.MemorySplitter;case"returner":return r.Conveyors.Returner}};
},{"../types":"Qd94"}],"CBC0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./types"),e=require("./image-loader"),o=require("./utils/stringTo"),n=function(){return function(n){var i=this;this.drawBox=function(t,e){if(null!=t){var o=i.canvas.width,n=i.canvas.height;i.ctx.fillStyle="#000000",i.ctx.fillRect(o/e*t.x,n/e*t.y,o/e,n/e)}},this.drawCells=function(t,o){for(var n=i.canvas.width,r=i.canvas.height,s=0;s<t.length;s++)for(var c=0;c<t.length;c++){var a=t[s][c],u=e.getImage(a.direction,a.type);i.ctx.drawImage(u,n/o*s,r/o*c,n/o,r/o)}},this.initializeCanvas=function(){i.canvas.setAttribute("height","48"),i.canvas.setAttribute("width","48"),i.ctx.fillStyle="#eeeeee",i.ctx.fillRect(0,0,i.canvas.width,i.canvas.height)},this.setConveyorButtonBorderColor=function(t){document.querySelectorAll(".conveyor_buttons").forEach(function(t){t.style.borderColor="#000000"}),t.style.borderColor="#00FF00"},this.initializeButtons=function(o){i.updateConveyorButtonImages(o),i.directionButtons.forEach(function(o){var n=void 0;switch(o.id){case"up":n=t.Direction.Up;break;case"down":n=t.Direction.Down;break;case"left":n=t.Direction.Left;break;case"right":n=t.Direction.Right}var i=e.getImage(n,t.Conveyors.Mover).src;o.setAttribute("src",i)}),document.querySelector("#base").style.borderColor="#00FF00",i.menuButtons.forEach(function(t){t.ondragstart=function(t){t.preventDefault()}})},this.updateConveyorButtonImages=function(t){i.conveyorButtons.forEach(function(n){var i=e.getImage(t,o.stringToConveyor(n.getAttribute("id"))).src;n.setAttribute("src",i)})},this.canvas=document.querySelector("#canvas"),this.ctx=this.canvas.getContext("2d"),this.initializeCanvas(),this.menuButtons=document.querySelectorAll(".menu_buttons"),this.conveyorButtons=document.querySelectorAll(".conveyor_buttons"),this.directionButtons=document.querySelectorAll(".direction_buttons"),this.initializeButtons(n)}}();exports.ViewClass=n;
},{"./types":"Qd94","./image-loader":"EvhF","./utils/stringTo":"KzVE"}],"B6dB":[function(require,module,exports) {
"use strict";var t=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),a=0;for(e=0;e<o;e++)for(var i=arguments[e],r=0,s=i.length;r<s;r++,a++)n[a]=i[r];return n};Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./state"),o=require("./view"),n=require("./utils/stringTo"),a=function(){var t=document.getElementById("grid"),e=t.parentElement.clientWidth,o=t.parentElement.clientHeight,n=e>o?o:e;t.style.height=n+"px",t.style.width=1.5*n+"px",e>1.5*o&&(t.style.height=o+"px",t.style.width=1.5*o+"px",console.log("height")),1.5*o>e&&(t.style.height=2*e/3+"px",t.style.width=e+"px",console.log("width"))},i=function(){return function(){var a=this;this.gameLoop={timerId:void 0,isRunning:!1,update:function(){if(null==a.state.box)a.state.box={x:0,y:0,value:a.state.level.input.shift(),returned:!1};else{var t=a.state.box.x,e=a.state.box.y;a.state.board.grid[t][e].update(a.state.box)}return a.state.box.returned&&(a.state.level.actualOutput.push(a.state.box.value),a.state.box=void 0),a.gameLoop.failureStateDetector()?(a.gameLoop.stop(),void console.log("failed")):a.state.level.actualOutput.length===a.state.level.expectedOutput.length?(a.gameLoop.stop(),void console.log("ya did it")):void a.gameLoop.draw()},draw:function(){a.view.drawCells(a.state.board.grid,a.state.level.size),a.view.drawBox(a.state.box,a.state.level.size)},failureStateDetector:function(){var t=!a.state.level.actualOutput.every(function(t,e){return t===a.state.level.expectedOutput[e]});return void 0===a.state.box?t:a.state.box.x<0||a.state.box.y<0||a.state.box.x>=a.state.level.size||a.state.box.y>=a.state.level.size},start:function(){a.gameLoop.isRunning||(a.gameLoop.isRunning=!0,a.state.level.input=t(a.state.level.initialInput),a.gameLoop.timerId=setInterval(a.gameLoop.update,300))},stop:function(){a.gameLoop.isRunning=!1,clearInterval(a.gameLoop.timerId),a.state.box=void 0,a.state.board.memory={A:0,B:0,C:0},a.state.level.actualOutput=[],a.gameLoop.draw()}},this.conveyorButtonOnClick=function(t){var e=t.target;a.state.menu.selectedConveyor=n.stringToConveyor(e.id),a.view.setConveyorButtonBorderColor(e)},this.directionButtonOnClick=function(t){var e=t.target;a.state.menu.selectedDirection=n.stringToDirection(e.id),a.view.updateConveyorButtonImages(a.state.menu.selectedDirection)},this.canvasOnClick=function(t){if(!a.gameLoop.isRunning){var e=t.target.clientHeight/a.state.level.size,o=Math.floor(t.offsetX/e),n=Math.floor(t.offsetY/e);0==o&&0==n||(a.state.board.updateGrid(o,n),a.gameLoop.draw())}},this.state=new e.StateClass,this.view=new o.ViewClass(this.state.menu.selectedDirection),document.querySelector("#canvas").onclick=this.canvasOnClick,document.querySelectorAll(".conveyor_buttons").forEach(function(t){t.onclick=a.conveyorButtonOnClick}),document.querySelectorAll(".direction_buttons").forEach(function(t){t.onclick=a.directionButtonOnClick}),document.querySelector("#tmpbutton").onclick=this.gameLoop.start,document.querySelector("#tmpbutton2").onclick=this.gameLoop.stop,document.querySelector("#mover").onload=this.gameLoop.draw}}();window.onload=a,window.onresize=a,new i;
},{"./state":"PUau","./view":"CBC0","./utils/stringTo":"KzVE"}]},{},["B6dB"], null)
//# sourceMappingURL=src.e812933f.js.map